{%load static%}
<!DOCTYPE html>
<head>
    <title> About Us page </title>
    <link rel="stylesheet" type="text/css" href="{% static 'datagenisys/css/about_us.css' %}">
</head>
<body class="{% if not got_data or false_target %}body-initial{% endif %}">
        <div class="about-us-container">
            <div class="about-us">
                <H1 class="title">Welcome to Data Predictify </H1>
                <p> where the future of data science meets effortless machine learning.<br>
                    At Data Predictify, we simplify the complex by turning your datasets 
                    into powerful predictive models with just a few clicks. <br>
                    Whether you're a researcher, data analyst, or business professional, 
                    our intuitive platform allows you to upload your data and define your target 
                    variable, and we'll handle the rest. Our cutting-edge algorithms and 
                    user-friendly interface ensure you get accurate predictions and insightful 
                    analyses without the need for advanced technical skills. <br>
                    Join us on a journey to unlock the true potential of your data. Empower your decisions, drive innovation, and stay ahead of the curve with DataGenie, where your dataâ€™s possibilities are limitless.
                </p>
            </div>
            <input type="checkbox" id="form" class="form" style="display: none;">
            <label for="form" class="dataset-button">Upload Your Dataset </label>
            <div class="upload-form">
                <form method="POST" enctype="multipart/form-data" action="{% url 'get_dataset' %}">
                    {% csrf_token %}
                    <div class="form-container">
                        <H3>Upload the CSV file </H3>
                        <input type="file" name="csvFile" required>
                        <H3>Define your Target Variable</H3>
                        <input type="text" name="targetVariable" class="text-box" placeholder=" Enter Column name here" required>
                        <H3>Numeric Columns Representing Categories</H3>
                        <p style="margin-top:-4% ">Please enter the names of the columns that contain numeric values (e.g., 0, 1, 2, 3) 
                            which represent different categories (e.g., 'Category 1', 'Category 2'). 
                            Separate each column name with a comma.
                            If there are no such columns, please input 'No'.</p>
                        <input type="text" name="categoricalNumeric" class="text-box" placeholder="column1, column5, .." required>
                        <div class="button-container">
                            <input type="submit" value="Submit" class="form-button">
                            <input for="form" type="reset" value="Cancel" class="form-button" onClick="document.getElementById('form').checked = false;"></input>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="{% if not got_data or false_target %}model-container-initial{%else%}model-container{% endif %}">
            {% if false_target %}
                <p> The dataset does not contain the target variable you provided. Please check and try again.</p>
                <p>Note that the target variable name is case sensitive.</p>
            {% elif not got_data %}
                <p >Your model will be generated and displayed here after you upload your Dataset and specify the Target variable.</p>
            {% else %}
                <H2>Dataset Overview </H2>
                <p>This table provides an overview of the dataset you have uploaded. It includes the following details for each column:</p>
                <ul>
                    <li>Column Name: The name of the column in the dataset.</li>
                    <li>Data Type: The type of data stored in the column (e.g., integer, float, object).</li>
                    <li>Number of Invalid Values: The count of missing or invalid values in the column.</li>
                </ul>
                    This information is crucial for building and validating the prediction model. 
                    By understanding the structure and quality of your dataset, we ensure the accuracy and 
                    reliability of the predictions generated by our model. 
                </p>                    
                <table border="1">
                    <thead>
                        <tr>
                            <th id="table-cell">Column</th>
                            <th id="table-cell">Data Type</th>
                            <th id="table-cell"> No. of invalid values</th>
        
                        </tr>
                    </thead>
                    <tbody>
                        {% for col, dtype,null_values in data_initial_info %}
                            <tr>
                                <td id="table-cell">{{ col }}</td>
                                <td id="table-cell">{{ dtype }}</td>
                                <td id="table-cell">{{null_values}}</td>
                            </tr> 
                        {% endfor %}
                    </tbody>
                </table>
                <H2>Post-Cleanup Dataset Overview</H2>
                <p>We have successfully cleaned the dataset you uploaded. Below is an overview of the cleaned dataset.
                    This information is crucial for building and validating the prediction model, ensuring the accuracy and reliability of the results.
                    The following steps were taken to prepare the data for accurate and reliable predictions:</p>
                <ul>
                    {% for cleaning_step in data_cleaning_steps %}
                    <li> {{cleaning_step}} </li> 
                    {% endfor %}
                </ul>
                <table border="1">
                    <thead>
                        <tr>
                            <th id="table-cell">Column</th>
                            <th id="table-cell">Data Type</th>
                            <th id="table-cell"> No. of invalid values</th>
                            <th id="table-cell">Show graphs</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for col, dtype,null_values in cleaned_dataset %}
                            <tr>
                                <td id="table-cell">{{ col }}</td>
                                <td id="table-cell">{{ dtype }}</td>
                                <td id="table-cell">{{null_values}}</td>
                                <td id="graph-cell">
                                            <form method="POST" action="{% url 'get_dataset' %}">
                                                {% csrf_token %}
                                                <input type="hidden" name="column" value="{{ col }}">
                                                <input type="hidden" name="df_json" value="{{ df_json }}">
                                                <input type="hidden" name="Numeric_categorical_columns" value="{{ Numeric_categorical_columns }}">
                                                <input type="hidden" name="data_encoding_map" value="{{ data_encoding_map }}">
                                                <input type="radio" name="graph-radio"  id="graphs-{{col}}" class="graphs" style="display: none;">
                                                <button type="submit" class="form-button">See graphs</button>
                                                </form>
                                                {% if column == col %}
                                                <div class="graph_container">
                                                    <button type="button" class="graph-close-button" onClick="document.getElementById('graphs-{{ col }}').checked = false;">X</button>
                                                    <div class="graphs-for-col">
                                                        <H2> Graphs for column {{col}} </H2>
                                                        {% for graph in graphs_url%}  
                                                            <img src={{graph}}> 
                                                        {% endfor %} 
                                                    </div>
                                                <div>
                                                {% endif %}
                                       
                                        
                                </td>
                            </tr> 
                        {% endfor %}
                    </tbody>
                </table>
                </div>
            {% endif %} 
        </div>
        
        
            
     

</body> 